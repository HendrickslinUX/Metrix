<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Metrix HardLine — Dashboard</title>

<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg-main:#0b0b0b;
  --bg-panel:#141414;
  --bg-card:#1b1b1b;
  --border-subtle:rgba(255,255,255,.08);
  --text-main:#fff;
  --text-muted:#b5b5b5;
  --accent:#ff6a00;
  --softy:#6c757d;
  --grind:#ff9800;
  --hardline:#d32f2f;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family:'DM Sans',sans-serif;
  background:var(--bg-main);
  color:var(--text-main);
}

header{
  height:64px;
  background:var(--bg-panel);
  border-bottom:1px solid var(--border-subtle);
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:0 1.5rem;
}

header h1{
  font-family:'Space Grotesk',sans-serif;
  font-size:1.1rem;
  margin:0;
}

header button{
  background:none;
  border:1px solid var(--border-subtle);
  color:white;
  padding:.45rem .9rem;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}

main{
  padding:1.5rem;
  max-width:1400px;
  margin:auto;
}

/* ===== STATS ===== */
.stats{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
  gap:1rem;
  margin-bottom:1.5rem;
}

.stat-card{
  background:var(--bg-card);
  border:1px solid var(--border-subtle);
  border-radius:14px;
  padding:1.2rem;
}

.stat-card h3{
  margin:0;
  font-size:.85rem;
  color:var(--text-muted);
}

.stat-card p{
  margin-top:.4rem;
  font-size:1.6rem;
  font-weight:700;
}

/* ===== COACH ===== */
.coach-box{
  background:#0f0f0f;
  border:1px solid var(--border-subtle);
  border-left:4px solid var(--accent);
  border-radius:14px;
  padding:1rem 1.2rem;
  margin-bottom:1.5rem;
}

.coach-box.overdue{border-left-color:var(--hardline)}
.coach-box.today{border-left-color:var(--grind)}
.coach-box.clear{border-left-color:#2e7d32}

.coach-box p{
  margin:0;
  font-weight:700;
  font-size:.9rem;
  line-height:1.45;
}

/* ===== TASK CREATOR (STEP) ===== */
.task-form{
  background:var(--bg-card);
  border:1px solid var(--border-subtle);
  border-radius:16px;
  padding:1.5rem;
  max-width:520px;
  margin-bottom:2rem;
}

.task-form h2{
  font-family:'Space Grotesk',sans-serif;
  margin:0 0 1rem 0;
}

.step{
  display:none;
}

.step.active{
  display:block;
}

.task-form input,
.task-form select{
  width:100%;
  padding:.7rem;
  border-radius:10px;
  border:1px solid var(--border-subtle);
  background:#0f0f0f;
  color:white;
  font-weight:600;
  margin-bottom:.8rem;
}

.task-form button{
  width:100%;
  background:var(--accent);
  color:black;
  border:none;
  padding:.75rem;
  border-radius:10px;
  font-weight:700;
  cursor:pointer;
}

/* ===== CALENDAR ===== */
.calendar-wrapper{
  overflow-x:auto;
  padding-bottom:1rem;
}

.calendar{
  display:grid;
  grid-template-columns:repeat(7,minmax(160px,1fr));
  gap:10px;
  min-width:1100px;
}

.day{
  background:var(--bg-card);
  border:1px solid var(--border-subtle);
  border-radius:14px;
  padding:.6rem;
  min-height:140px;
}

.day-header{
  font-size:.75rem;
  color:var(--text-muted);
  margin-bottom:.4rem;
}

.task{
  padding:.35rem .6rem;
  border-radius:8px;
  font-size:.75rem;
  font-weight:700;
  margin-bottom:.3rem;
  cursor:pointer;
}

.Softy{background:var(--softy)}
.GrindMode{background:var(--grind);color:black}
.HardLine{background:var(--hardline)}
</style>
</head>

<body>

<header>
  <h1>Metrix HardLine</h1>
  <button onclick="location.href='userlogin.html'">Logout</button>
</header>

<main>

<section class="stats">
  <div class="stat-card"><h3>Total Tasks</h3><p id="totalTasks">0</p></div>
  <div class="stat-card"><h3>Completed</h3><p id="completedTasks">0</p></div>
  <div class="stat-card"><h3>Missed</h3><p id="missedTasks">0</p></div>
</section>

<section class="coach-box clear" id="coachBox">
  <p id="coachMessage"></p>
</section>

<section class="task-form">
  <h2>Create Task</h2>

  <div class="step active" id="step1">
    <input id="taskTitle" placeholder="Task name">
    <button onclick="nextStep(2)">Next</button>
  </div>

  <div class="step" id="step2">
    <input id="taskDeadline" type="date">
    <button onclick="nextStep(3)">Next</button>
  </div>

  <div class="step" id="step3">
    <select id="taskIntensity">
      <option value="Softy">Softy</option>
      <option value="GrindMode">GrindMode</option>
      <option value="HardLine">HardLine</option>
    </select>
    <button onclick="addTask()">Add Task</button>
  </div>
</section>

<div class="calendar-wrapper">
  <section class="calendar" id="calendar"></section>
</div>

</main>

<script>
let tasks=[];

function nextStep(n){
  document.querySelectorAll(".step").forEach(s=>s.classList.remove("active"));
  document.getElementById("step"+n).classList.add("active");
}

function addTask(){
  if(!taskTitle.value||!taskDeadline.value)return alert("Missing info");
  tasks.push({
    title:taskTitle.value,
    deadline:taskDeadline.value,
    intensity:taskIntensity.value,
    completed:false
  });
  taskTitle.value="";
  nextStep(1);
  renderCalendar();
  updateStats();
}

function renderCalendar(){
  calendar.innerHTML="";
  const today=new Date().toISOString().split("T")[0];
  for(let i=0;i<30;i++){
    const d=new Date();
    d.setDate(d.getDate()+i);
    const date=d.toISOString().split("T")[0];
    const day=document.createElement("div");
    day.className="day";
    day.innerHTML=`<div class="day-header">${date}</div>`;
    tasks.filter(t=>t.deadline===date).forEach(t=>{
      const el=document.createElement("div");
      el.className=`task ${t.intensity}`;
      el.textContent=t.title;
      el.onclick=()=>{t.completed=!t.completed;renderCalendar();updateStats();}
      day.appendChild(el);
    });
    calendar.appendChild(day);
  }
  updateCoach();
}

function updateStats(){
  totalTasks.textContent=tasks.length;
  completedTasks.textContent=tasks.filter(t=>t.completed).length;
  missedTasks.textContent=tasks.filter(t=>!t.completed).length;
}

function getTimePhase(){
  const h=new Date().getHours();
  if(h>=5&&h<12)return"morning";
  if(h>=12&&h<18)return"afternoon";
  if(h>=18&&h<23)return"evening";
  return"late";
}

function updateCoach(){
  const today=new Date().toISOString().split("T")[0];
  const phase=getTimePhase();
  const overdue=tasks.filter(t=>!t.completed&&t.deadline<today);
  const dueToday=tasks.filter(t=>!t.completed&&t.deadline===today);
  coachBox.className="coach-box";

  if(overdue.length){
    coachBox.classList.add("overdue");
    coachMessage.textContent=
      phase==="late"
      ?"You’re ending the day with failures unresolved. Fix it tomorrow."
      :"Overdue tasks detected. Discipline is compromised.";
    return;
  }

  if(dueToday.length){
    coachBox.classList.add("today");
    coachMessage.textContent=
      phase==="evening"
      ?"Evening window closing. Finish today’s work."
      :"Tasks are due today. Pressure is active.";
    return;
  }

  coachBox.classList.add("clear");
  coachMessage.textContent="System stable. Maintain discipline.";
}

renderCalendar();
</script>

</body>
</html>


